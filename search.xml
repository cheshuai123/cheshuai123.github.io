<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[InterestNothing]]></title>
    <url>%2Fhm773%2Flittle_tips.html</url>
    <content type="text"><![CDATA[脑子不好使，遇事不决全靠百度。但是有的着急用的小技巧一时半会儿度不出来就很着急了。就统一整理起来吧。随心而更，时不时进来看看说不定有新发现哦。 excel加密但是密码忘了😭 修改后缀xlsx为rar 打开压缩包，找到/xl/worksheets/选择你要破解的工作簿 以sheet1.xml为例，把sheet1.xml拖出来，记事本打开 搜索Protect，一般在最底下，拉到最下面可以直接看到 删除&lt;sheetProtection开始。。。到括号结束为止&gt;，保存。 拖为压缩包原来的位置，改回xlsx。 再次打开，就不用密码了。]]></content>
      <categories>
        <category>笔记</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SQL入门50题]]></title>
    <url>%2Fhm773%2Fsql_learning.html</url>
    <content type="text"><![CDATA[作为一个学习数据库的新手，SQL语言的练习是免不了的。基础入门50题练起来啊！题目的来源是CSDN的经典SQL50题，做完这些sql就入门了~,虽然可以搜到好多同样的题目，但是各自创建数据表的值不一样，我就选了这个数据量相对较多的。（而且人家标了原创了啊哈哈👍） 数据理解与创建题目所使用的数据结构基本一样的，都为学生表、课程表、教师表和成绩表。记录不同做题得出的结果也不同，该版本是有13条学生记录的版本，具体记录如下表： 学生表Student课程表Course教师表Teacher成绩表SC 学生编号SId 学生姓名Sname 出生年月Sage 学生性别Ssex 01 赵雷 1990-01-01 00:00:00 男 02 钱电 1990-12-21 00:00:00 男 03 孙风 1990-12-20 00:00:00 男 04 李云 1990-12-06 00:00:00 男 05 周梅 1991-12-01 00:00:00 女 06 吴兰 1992-01-01 00:00:00 女 07 郑竹 1989-01-01 00:00:00 女 09 张三 2017-12-20 00:00:00 女 10 李四 2017-12-25 00:00:00 女 11 李四 2012-06-06 00:00:00 女 12 赵六 2013-06-13 00:00:00 女 13 孙七 2014-06-01 00:00:00 女 课程编号CId 课程名称Cname 教师编号TId 01 语文 02 02 数学 01 03 英语 03 教师编号TId 教师姓名Tname 01 张三 02 李四 03 王五 学生编号SId 课程名称CId 成绩score 01 01 80.0 01 02 90.0 01 03 99.0 02 01 70.0 02 02 60.0 02 03 80.0 03 01 80.0 03 02 80.0 03 03 80.0 04 01 50.0 04 02 30.0 04 03 20.0 05 01 76.0 05 02 87.0 06 01 31.0 06 03 34.0 07 02 89.0 07 03 98.0 理解了大概的数据结构之后，可以开始创建数据了。以下代码无特别声明，均是在MySQL环境下运行的。 创建学生表Student12345678910111213create table Student(SId varchar(10),Sname varchar(10),Sage datetime,Ssex varchar(10));insert into Student values('01' , '赵雷' , '1990-01-01' , '男');insert into Student values('02' , '钱电' , '1990-12-21' , '男');insert into Student values('03' , '孙风' , '1990-12-20' , '男');insert into Student values('04' , '李云' , '1990-12-06' , '男');insert into Student values('05' , '周梅' , '1991-12-01' , '女');insert into Student values('06' , '吴兰' , '1992-01-01' , '女');insert into Student values('07' , '郑竹' , '1989-01-01' , '女');insert into Student values('09' , '张三' , '2017-12-20' , '女');insert into Student values('10' , '李四' , '2017-12-25' , '女');insert into Student values('11' , '李四' , '2012-06-06' , '女');insert into Student values('12' , '赵六' , '2013-06-13' , '女');insert into Student values('13' , '孙七' , '2014-06-01' , '女'); 创建课程表Course1234create table Course(CId varchar(10),Cname nvarchar(10),TId varchar(10));insert into Course values('01' , '语文' , '02');insert into Course values('02' , '数学' , '01');insert into Course values('03' , '英语' , '03'); 创建教师表Teacher1234create table Teacher(TId varchar(10),Tname varchar(10));insert into Teacher values('01' , '张三');insert into Teacher values('02' , '李四');insert into Teacher values('03' , '王五'); 创建成绩表SC12345678910111213141516171819create table SC(SId varchar(10),CId varchar(10),score decimal(18,1));insert into SC values('01' , '01' , 80);insert into SC values('01' , '02' , 90);insert into SC values('01' , '03' , 99);insert into SC values('02' , '01' , 70);insert into SC values('02' , '02' , 60);insert into SC values('02' , '03' , 80);insert into SC values('03' , '01' , 80);insert into SC values('03' , '02' , 80);insert into SC values('03' , '03' , 80);insert into SC values('04' , '01' , 50);insert into SC values('04' , '02' , 30);insert into SC values('04' , '03' , 20);insert into SC values('05' , '01' , 76);insert into SC values('05' , '02' , 87);insert into SC values('06' , '01' , 31);insert into SC values('06' , '03' , 34);insert into SC values('07' , '02' , 89);insert into SC values('07' , '03' , 98); 这样一来准备工作就完成了，接下来就是做题了。 题目练习查询”01”课程比”02”课程成绩高的学生的信息及课程分数结果: SId Sname Sag Ssex score1 score2 02 钱电 1990-12-21 00:00:00 男 70.0 60.0 04 李云 1990-12-06 00:00:00 男 50.0 30.0 执行代码:123456789101112SELECT -- 选取需要字段 student.*, s1.score AS score1, s2.score AS score2 FROM -- 来自于联表 student JOIN sc s1 ON student.SId = s1.SId AND s1.cid = '01' JOIN sc s2 ON student.SId = s2.SId AND s2.cid = '02' WHERE -- 筛选需要的 s1.score &gt; s2.score; 同时存在” 01 “课程和” 02 “课程的情况结果: SId Sname Sage Ssex CId01 CId02 01 赵雷 1990-01-01 00:00:00 男 01 02 02 钱电 1990-12-21 00:00:00 男 01 02 03 孙风 1990-12-20 00:00:00 男 01 02 04 李云 1990-12-06 00:00:00 男 01 02 05 周梅 1991-12-01 00:00:00 女 01 02 执行代码:12345678910SELECT -- 选取需要字段 student.*, s1.CId AS CId01, s2.CId AS CId02 FROM -- 来自于联表 student JOIN sc s1 ON student.SId = s1.SId AND s1.CId = '01' -- 使用and筛选 JOIN sc s2 ON student.SId = s2.SId AND s2.CId = '02'; 存在”01”课程但可能不存在”02”课程的情况(不存在时显示为 null )结果: SId Sname Sage Ssex CId01 CId02 01 赵雷 1990-01-01 00:00:00 男 01 02 02 钱电 1990-12-21 00:00:00 男 01 02 03 孙风 1990-12-20 00:00:00 男 01 02 04 李云 1990-12-06 00:00:00 男 01 02 05 周梅 1991-12-01 00:00:00 女 01 02 06 吴兰 1992-01-01 00:00:00 女 01 null 12 赵六 2013-06-13 00:00:00 女 01 null 执行代码:12345678910SELECT -- 选取需要字段 student.*, s1.CId AS CId01, s2.CId AS CId02 FROM -- 构建联表 student JOIN sc s1 ON student.SId = s1.SId AND s1.CId = '01' -- 使用and筛选 LEFT JOIN sc s2 ON student.SId = s2.SId AND s2.CId = '02'; 不存在”01”课程但存在”02“课程的情况结果: SId Sname Sage Ssex 07 郑竹 1989-01-01 00:00:00 女 执行代码:12345678910SELECT -- 选取需要字段 student.* FROM -- 来自于： sc JOIN student ON sc.SId = student.SId WHERE -- 进行筛选 sc.SId NOT IN (SELECT sc.SId FROM sc WHERE sc.CId='01') AND sc.CId='02'; 查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩结果: SId Sname avg_score 01 赵雷 89.66667 02 钱电 70.00000 03 孙风 80.00000 05 周梅 81.50000 07 郑竹 93.50000 执行代码:12345678910111213SELECT student.SId, student.Sname, avg.avg_score FROM student JOIN (SELECT SId, AVG(score) as avg_score FROM sc GROUP BY SId HAVING avg_score &gt;= 60) AS avg -- 子查询作为表进行联结 ON avg.SId = student.SId; 查询在 SC 表存在成绩的学生信息结果: SId Sname Sage Ssex 01 赵雷 1990-01-01 00:00:00 男 02 钱电 1990-12-21 00:00:00 男 03 孙风 1990-12-20 00:00:00 男 04 李云 1990-12-06 00:00:00 男 05 周梅 1991-12-01 00:00:00 女 06 吴兰 1992-01-01 00:00:00 女 07 郑竹 1989-01-01 00:00:00 女 原文章的语句是这样的： 执行代码:12SELECT distinct t.* FROM sc s ,student t where s.SId = t.SId; 具体的思路也就是找出在成绩表和学生表中都有记录的学生信息。然而我突发奇想，如果我们在成绩表sc中插入一个没有成绩的记录会怎样，即该记录不符合题目的筛选需要。如：1insert into SC values('12' , '01' , NULL); 不出意外，出现了这条记录，而我们已经知道这条记录是没有成绩的： SId Sname Sage Ssex 12 赵六 2013-06-13 00:00:00 女 在本文的原始数据集下不考虑空值是没问题的，但有时在实际运用中可能就会有空值存在。因此就要修改语句，考虑可能存在null值的情况。 执行代码:123456SELECT DISTINCT * FROM student WHERE SId in (SELECT SId FROM sc WHERE sc.score IS NOT NULL GROUP BY sid); 查询所有同学的学生编号、学生姓名、选课总数、所有课程的成绩总和结果: SId Sname c_num s_score 01 赵雷 3 269.0 02 钱电 3 210.0 03 孙风 3 240.0 04 李云 3 100.0 05 周梅 2 163.0 06 吴兰 2 65.0 07 郑竹 2 187.0 12 赵六 2 null 09 张三 0 null 10 李四 0 null 11 李四 0 null 13 孙七 0 null 执行代码:123456789SELECT stu.SId, stu.Sname, COUNT(sc.cid) AS c_num, SUM(sc.score) AS s_score FROM student AS stu LEFT JOIN sc ON stu.SId = sc.SId GROUP BY stu.SId; 要显示没选课的学生(在成绩表中无记录)，使用join结果: SId Sname Sage Ssex 09 张三 2017-12-20 00:00:00 女 10 李四 2017-12-25 00:00:00 女 11 李四 2012-06-06 00:00:00 女 13 孙七 2014-06-01 00:00:00 女 执行代码:1234567SELECT student.* FROM student WHERE SId NOT IN(SELECT sc.SId FROM sc -- 子查询选择在成绩表中有记录的学生编号 JOIN student ON student.SId =sc.SId WHERE sc.CId IS NOT NULL); 查有成绩的学生信息（同2.3？）结果: SId Sname Sage Ssex 01 赵雷 1990-01-01 00:00:00 男 02 钱电 1990-12-21 00:00:00 男 03 孙风 1990-12-20 00:00:00 男 04 李云 1990-12-06 00:00:00 男 05 周梅 1991-12-01 00:00:00 女 06 吴兰 1992-01-01 00:00:00 女 07 郑竹 1989-01-01 00:00:00 女 执行代码:1234567SELECT student.* FROM student JOIN sc ON student.SId = SC.SId WHERE sc.score IS NOT NULL GROUP BY student.SId; 查询「李」姓老师的数量结果: num 1 执行代码:123SELECT COUNT(TId) AS num FROM teacher WHERE Tname LIKE '李%'; 查询学过「张三」老师授课的同学的信息结果: SId Sname Sage Ssex 01 赵雷 1990-01-01 00:00:00 男 02 钱电 1990-12-21 00:00:00 男 03 孙风 1990-12-20 00:00:00 男 04 李云 1990-12-06 00:00:00 男 05 周梅 1991-12-01 00:00:00 女 07 郑竹 1989-01-01 00:00:00 女 执行代码:1234567SELECT DISTINCT s.* FROM student AS s INNER JOIN sc ON s.SId = sc.SId INNER JOIN course AS c ON sc.CId = c.CId INNER JOIN teacher AS t ON t.TId = c.TId WHERE t.Tname = '张三'; 查询没有学全所有课程的同学的信息结果: SId Sname Sage Ssex 05 周梅 1991-12-01 00:00:00 女 06 吴兰 1992-01-01 00:00:00 女 07 郑竹 1989-01-01 00:00:00 女 09 张三 2017-12-20 00:00:00 女 10 李四 2017-12-25 00:00:00 女 11 李四 2012-06-06 00:00:00 女 12 赵六 2013-06-13 00:00:00 女 13 孙七 2014-06-01 00:00:00 女 执行代码:12345678SELECT s.* FROM student AS s WHERE SId NOT IN( -- 取反得到没有学全所有课的学生信息 SELECT SId -- 选取学全所有课程的学生编号 FROM sc GROUP BY SId HAVING COUNT(CId) &gt;= (SELECT COUNT(CId) AS num FROM course) -- 以课程表里的课程数作为学全所有课的限定条件 ); 查询至少有一门课与学号为” 01 “的同学所学相同的同学的信息结果: SId Sname Sage Ssex 02 钱电 1990-12-21 00:00:00 男 03 孙风 1990-12-20 00:00:00 男 04 李云 1990-12-06 00:00:00 男 05 周梅 1991-12-01 00:00:00 女 06 吴兰 1992-01-01 00:00:00 女 07 郑竹 1989-01-01 00:00:00 女 12 赵六 2013-06-13 00:00:00 女 执行代码:12345678SELECT DISTINCT student.*FROM student JOIN sc ON student.SId = sc.SId AND sc.CId IN (SELECT sc.CId FROM sc WHERE sc.SId = '01') WHERE student.SId != '01'; 查询和” 01 “号的同学学习的课程完全相同的其他同学的信息结果: SId Sname Sage Ssex 课程数 02 钱电 1990-12-21 00:00:00 男 3 03 孙风 1990-12-20 00:00:00 男 3 04 李云 1990-12-06 00:00:00 男 3 执行代码:1234567891011121314SELECT DISTINCT student.*, COUNT(sc.CId) AS 课程数FROM student INNER JOIN sc ON student.SId = sc.SId AND sc.CId IN (SELECT sc.CId FROM sc WHERE sc.SId = '01') -- 保证选课在1号学生的选课单内GROUP BY student.SIdHAVING student.SId !='01' -- 把1号学生从结果踢除 AND 课程数 = (SELECT COUNT(SC.CId) FROM sc WHERE sc.SId = '01'); -- 保证选课数量与1号学生选课相同 查询没学过”张三”老师讲授的任一门课程的学生姓名结果: Sname 赵雷 钱电 孙风 李云 周梅 吴兰 郑竹 赵六 执行代码:123456789SELECT DISTINCT SnameFROM student AS s JOIN sc ON s.SId = sc.SIdWHERE sc.CId !=(SELECT CId FROM course INNER JOIN teacher ON course.TId = teacher.TId WHERE teacher.Tname="张三"); 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩结果: SId Sname 平均成绩 不及格门数 04 李云 33.33333 3 06 吴兰 32.50000 2 执行代码:1234567891011SELECT student.SId, student.Sname, AVG(sc.score) AS 平均成绩, COUNT(sc.SId) AS 不及格门数FROM sc JOIN student ON sc.SId = student.SIdWHERE sc.score &lt; 60GROUP BY sc.SIdHAVING 不及格门数 &gt;= 2; 检索” 01 “课程分数小于 60，按分数降序排列的学生信息结果: SId Sname Sage Ssex 04 李云 1990-12-06 00:00:00 男 06 吴兰 1992-01-01 00:00:00 女 执行代码:123456SELECT student.*FROM sc JOIN student ON sc.SId = student.SIdWHERE sc.CId = "01" AND sc.score &lt; 60ORDER BY sc.score DESC; 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩结果: SId CId score 平均分数 07 02 89.0 93.50000 07 03 98.0 93.50000 01 01 80.0 89.66667 01 02 90.0 89.66667 01 03 99.0 89.66667 05 01 76.0 81.50000 05 02 87.0 81.50000 03 01 80.0 80.00000 03 02 80.0 80.00000 03 03 80.0 80.00000 02 01 70.0 70.00000 02 02 60.0 70.00000 02 03 80.0 70.00000 04 01 50.0 33.33333 04 02 30.0 33.33333 04 03 20.0 33.33333 06 01 31.0 32.50000 06 03 34.0 32.50000 12 01 NULL NULL 12 01 NULL NULL 执行代码:123456789SELECT sc.*, avgscore.平均分数FROM sc JOIN (SELECT SId,AVG(score) AS 平均分数 FROM sc GROUP BY SId) AS avgscore ON sc.SId = avgscore.SIdORDER BY avgscore.平均分数 DESC; 查询各科成绩最高分、最低分和平均分,以如下形式显示：要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列 课程ID 课程name 课程人数 最高分 最低分 平均分 及格率 中等率 优良率 优秀率 CId Cname number max min mean &gt;=60 70-80 80-90 90-100 结果: CId Cname 课程人数 最高分 最低分 平均分 及格率 中等率 优良率 优秀率 01 语文 7 80.0 31.0 64.50000 57.14% 28.57% 28.57% 0.000% 02 数学 6 90.0 30.0 72.66667 83.33% 0.000% 50.00% 16.66% 03 英语 6 99.0 20.0 68.50000 66.66% 0.000% 33.33% 33.33% 执行代码:12345678910111213141516171819202122232425262728SELECT c.CId, c.Cname, COUNT(sc.SId) AS 课程人数, MAX(sc.score) AS 最高分, MIN(sc.score) AS 最低分, AVG(sc.score) AS 平均分, CONCAT(LEFT(COUNT(CASE -- 使用concat函数对结果格式化百分比显示 WHEN sc.score &gt;=60 THEN 1 -- 符合条件的个数/总数得到比率 ELSE NULL END)/COUNT(DISTINCT sc.SId)*100,5),"%") AS 及格率, CONCAT(LEFT(COUNT(CASE WHEN sc.score &gt;=70 AND sc.score &lt; 80 THEN 1 ELSE NULL END)/COUNT(DISTINCT sc.SId)*100,5),"%") AS 中等率, CONCAT(LEFT(COUNT(CASE WHEN sc.score &gt;=80 AND sc.score &lt; 90 THEN 1 ELSE NULL END)/COUNT(DISTINCT sc.SId)*100,5),"%") AS 优良率, CONCAT(LEFT(COUNT(CASE WHEN sc.score &gt;=90 AND sc.score &lt; 100 THEN 1 ELSE NULL END)/COUNT(DISTINCT sc.SId)*100,5),"%") AS 优秀率 FROM course AS c JOIN sc ON c.CId = sc.CId GROUP BY c.CIdORDER BY 课程人数 DESC, c.CId; 按各科成绩进行排序，并显示排名这个题目可以有四个变种，可以借助此题来理解SQL的四种排序方式。具体详细介绍可以参考Sql 四大排名函数（ROW_NUMBER、RANK、DENSE_RANK、NTILE）简介这篇文章。 显示序号按照成绩高低排名，并给每条记录生成序号。结果: 序号 SId CId score 1 01 03 99.0 2 07 03 98.0 3 01 02 90.0 4 07 02 89.0 5 05 02 87.0 6 01 01 80.0 7 02 03 80.0 8 03 01 80.0 9 03 02 80.0 10 03 03 80.0 11 05 01 76.0 12 02 01 70.0 13 02 02 60.0 14 04 01 50.0 15 06 03 34.0 16 06 01 31.0 17 04 02 30.0 18 04 03 20.0 19 12 01 NULL 执行代码:1234SELECT ROW_NUMBER() OVER(ORDER BY score DESC) AS 序号, sc.*FROM SC; 显示排名（排名重复时保留空缺）按照成绩高低排名，排名不连续。结果: 排名 SId CId score 1 01 03 99.0 2 07 03 98.0 3 01 02 90.0 4 07 02 89.0 5 05 02 87.0 6 01 01 80.0 6 02 03 80.0 6 03 01 80.0 6 03 02 80.0 6 03 03 80.0 11 05 01 76.0 12 02 01 70.0 13 02 02 60.0 14 04 01 50.0 15 06 03 34.0 16 06 01 31.0 17 04 02 30.0 18 04 03 20.0 19 12 01 NULL 执行代码:1234SELECT RANK() OVER(ORDER BY score DESC) AS 排名, sc.*FROM SC; 显示排名（排名重复时合并名次）按照成绩高低排名，排名连续不计入重复值。结果: 排名 SId CId score 1 01 03 99.0 2 07 03 98.0 3 01 02 90.0 4 07 02 89.0 5 05 02 87.0 6 01 01 80.0 6 02 03 80.0 6 03 01 80.0 6 03 02 80.0 6 03 03 80.0 7 05 01 76.0 8 02 01 70.0 9 02 02 60.0 10 04 01 50.0 11 06 03 34.0 12 06 01 31.0 13 04 02 30.0 14 04 03 20.0 15 12 01 NULL 执行代码:1234SELECT DENSE_RANK() OVER(ORDER BY score DESC) AS 排名, sc.*FROM SC; 根据排序分组（提供分组数n,如n=5）结果: 排名 SId CId score 1 01 03 99.0 1 07 03 98.0 1 01 02 90.0 1 07 02 89.0 2 05 02 87.0 2 01 01 80.0 2 02 03 80.0 2 03 01 80.0 3 03 02 80.0 3 03 03 80.0 3 05 01 76.0 3 02 01 70.0 4 02 02 60.0 4 04 01 50.0 4 06 03 34.0 4 06 01 31.0 5 04 02 30.0 5 04 03 20.0 5 12 01 NULL 执行代码:1234SELECT NTILE(5) OVER(ORDER BY score DESC) AS 排名, sc.*FROM SC; 查询学生的总成绩，并进行排名，总分重复时不保留名次空缺结果: SId Sname Sage Ssex 总成绩 排名 01 赵雷 1990-01-01 00:00:00 男 269.0 1 03 孙风 1990-12-20 00:00:00 男 240.0 2 02 钱电 1990-12-21 00:00:00 男 210.0 3 07 郑竹 1989-01-01 00:00:00 女 187.0 4 05 周梅 1991-12-01 00:00:00 女 163.0 5 04 李云 1990-12-06 00:00:00 男 100.0 6 06 吴兰 1992-01-01 00:00:00 女 65.0 7 12 赵六 2013-06-13 00:00:00 女 NULL 8 执行代码:12345678SELECT student.*, SUM(sc.score) AS 总成绩, DENSE_RANK() OVER(ORDER BY SUM(sc.score) DESC) AS 排名FROM student JOIN sc ON student.SId = sc.SIdGROUP BY student.SId; 统计各科成绩各分数段人数：课程编号，课程名称，[100-85]，[85-70]，[70-60]，[60-0] 及所占百分比结果: CId Cname [100-85]人数 [100-85]占比 [85-70]人数 [85-70]占比 [70-60]人数 [70-60]占比 [60-0]人数 [60-0]占比 01 语文 0 0.000% 4 66.66% 0 0.000% 2 33.33% 02 数学 3 50.00% 1 16.66% 1 16.66% 1 16.66% 03 英语 2 33.33% 2 33.33% 0 0.000% 2 33.33% 执行代码:1234567891011121314151617181920212223242526272829303132333435363738SELECT course.CId, course.Cname, COUNT(CASE WHEN sc.score &gt;=85 THEN 1 ELSE NULL END) AS '[100-85]人数', CONCAT(left(COUNT(CASE WHEN sc.score &gt;=85 THEN 1 ELSE NULL END)/COUNT(sc.score)*100,5), '%') AS '[100-85]占比', COUNT(CASE WHEN sc.score &gt;=70 AND sc.score &lt; 85 THEN 1 ELSE NULL END) AS '[85-70]人数', CONCAT(left(COUNT(CASE WHEN sc.score &gt;=70 AND sc.score &lt; 85 THEN 1 ELSE NULL END)/COUNT(sc.score)*100,5), '%') AS '[85-70]占比', COUNT(CASE WHEN sc.score &gt;=60 AND sc.score &lt; 70 THEN 1 ELSE NULL END) AS '[70-60]人数', CONCAT(left(COUNT(CASE WHEN sc.score &gt;=60 AND sc.score &lt; 70 THEN 1 ELSE NULL END)/COUNT(sc.score)*100,5), '%') AS '[70-60]占比', COUNT(CASE WHEN sc.score &gt;=0 AND sc.score &lt; 60 THEN 1 ELSE NULL END) AS '[60-0]人数', CONCAT(left(COUNT(CASE WHEN sc.score &gt;=0 AND sc.score &lt; 60 THEN 1 ELSE NULL END)/COUNT(sc.score)*100,5), '%') AS '[60-0]占比'FROM course JOIN sc ON sc.CId = course.CIdGROUP BY course.CId; 查询各科成绩前三名的记录 思路：先按照课程分类，然后对各类课程按成绩排序，加上排名信息（前边的四种方式），然后对排名信息进行限定（排名&lt;=3). 结果: SId Sname CId score num 01 赵雷 01 80.0 1 03 孙风 01 80.0 2 05 周梅 01 76.0 3 01 赵雷 02 90.0 1 07 郑竹 02 89.0 2 05 周梅 02 87.0 3 01 赵雷 03 99.0 1 07 郑竹 03 98.0 2 02 钱电 03 80.0 3 执行代码:123456789101112131415SELECT st.SId, st.Sname, sco.CId, sco.score, sco.numFROM student AS st RIGHT JOIN (SELECT sc.SId, sc.CId, sc.score, ROW_NUMBER() OVER(PARTITION BY sc.CId ORDER BY sc.score DESC) AS num FROM sc) AS sco ON sco.SId = st.SIdWHERE sco.num &lt;= 3ORDER BY sco.CId, sco.num; 查询每门课程被选修的学生数结果: CId Cname num 01 语文 7 02 数学 6 03 英语 6 执行代码:1234567SELECT sc.CId, course.Cname, COUNT(DISTINCT sc.SId) as numFROM sc JOIN course ON course.CId = sc.CIdGROUP BY sc.CId; 查询出只选修两门课程的学生学号和姓名结果: SId Sname 05 周梅 06 吴兰 07 郑竹 执行代码:12345678SELECT st.SId, st.SnameFROM student AS stRIGHT JOIN (SELECT sc.SId, COUNT(DISTINCT sc.CId) AS num FROM sc GROUP BY sc.SId HAVING COUNT(sc.CId) = 2) AS cnum ON cnum.SId = st.SId; 查询男生、女生人数结果: Ssex num 男 4 女 8 执行代码:12345SELECT Ssex, COUNT(Ssex) AS numFROM studentGROUP BY Ssex; 查询名字中含有「风」字的学生信息结果: SId Sname Sage Ssex 03 孙风 1990-12-20 00:00:00 男 执行代码:123SELECT *FROM studentWHERE Sname LIKE '%风%'; 查询同名学生名单，并统计同名人数结果: Sname num 李四 2 执行代码:123456SELECT Sname, COUNT(Sname) AS numFROM studentGROUP BY SnameHAVING COUNT(Sname) &gt; 1; 查询 1990 年出生的学生名单结果: SId Sname Sage Ssex 02 钱电 1990-12-21 00:00:00 男 03 孙风 1990-12-20 00:00:00 男 04 李云 1990-12-06 00:00:00 男 01 赵雷 1990-01-01 00:00:00 男 执行代码:123SELECT *FROM studentWHERE YEAR(student.Sage) = 1990; 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列结果: CId 平均成绩 02 72.66667 03 68.50000 01 64.50000 执行代码:123456SELECT sc.CId, AVG(sc.score) AS 平均成绩FROM scGROUP BY sc.CIdORDER BY AVG(sc.score) DESC, sc.CId; 查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩结果: SId Sname 平均成绩 01 赵雷 89.66667 07 郑竹 93.50000 执行代码:12345678SELECT st.SId, st.Sname, AVG(sc.score) AS 平均成绩FROM student AS st JOIN sc ON sc.SId = st.SIdGROUP BY st.SIdHAVING AVG(sc.score) &gt; 85; 查询课程名称为「数学」，且分数低于 60 的学生姓名和分数结果: Sname score 李云 30.0 执行代码:123456789SELECT st.Sname, sc.scoreFROM student AS st JOIN sc ON sc.SId = st.SIdWHERE sc.CId = (SELECT CId FROM course WHERE Cname = '数学')AND sc.score &lt; 60; 查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况)结果: SId Sname Cname score 01 赵雷 语文 80.0 01 赵雷 数学 90.0 01 赵雷 英语 99.0 02 钱电 语文 70.0 02 钱电 数学 60.0 02 钱电 英语 80.0 03 孙风 语文 80.0 03 孙风 数学 80.0 03 孙风 英语 80.0 04 李云 语文 50.0 04 李云 数学 30.0 04 李云 英语 20.0 05 周梅 语文 76.0 05 周梅 数学 87.0 06 吴兰 语文 31.0 06 吴兰 英语 34.0 07 郑竹 数学 89.0 07 郑竹 英语 98.0 12 赵六 语文 NULL 09 张三 NULL NULL 10 李四 NULL NULL 11 李四 NULL NULL 13 孙七 NULL NULL 执行代码:123456789101112SELECT st.SId, st.Sname, csc.Cname, csc.scoreFROM student AS stLEFT JOIN (SELECT c.Cname, sc.SId, sc.score FROM course AS c JOIN sc ON sc.CId = c.CId) AS csc ON csc.SId = st.SId; 查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数结果: Sname score Cname 钱电 80.0 英语 孙风 80.0 语文 孙风 80.0 数学 孙风 80.0 英语 周梅 76.0 语文 周梅 87.0 数学 郑竹 89.0 数学 郑竹 98.0 英语 赵雷 80.0 语文 赵雷 90.0 数学 赵雷 99.0 英语 执行代码:12345678SELECT st.Sname, sc.score, course.CnameFROM student AS st JOIN sc ON sc.SId = st.SId JOIN course ON sc.CId = course.CIdWHERE sc.score &gt; 70; 查询存在不及格的课程结果: Cname 语文 数学 英语 执行代码:12345SELECT CnameFROM courseWHERE CId IN (SELECT DISTINCT CId FROM sc WHERE score &lt; 60); –未完待更~–]]></content>
      <categories>
        <category>数据分析</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fhm773%2Fblog_start.html</url>
    <content type="text"><![CDATA[该文章是加密文章，请输入密码访问： Incorrect Password! No content to display! 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]]></content>
      <categories>
        <category>博客</category>
      </categories>
  </entry>
</search>
